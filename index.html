<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nuestra historia ‚ù§Ô∏è</title>

  <!-- Cambia el n√∫mero v= cuando actualices CSS para evitar cach√© -->
  <link rel="stylesheet" href="./styles.css?v=2000">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
</head>

<body>

  <!-- ‚úÖ Pantalla inicial antes de la portada -->
  <div id="start" class="start-screen">
    <div class="start-card">
      <h1>Feliz San Valent√≠n, Ali ‚ù§Ô∏è</h1>
      <p>Te he hecho esto con todo mi cari√±o.</p>
      <button id="startBtn" type="button">EMPEZAR</button>
      <p class="start-small">Despu√©s puedes avanzar evento por evento</p>
    </div>
  </div>

  <section class="timeline">
    <h2>Nuestra historia</h2>

    <div class="event">
      <h3>ESPERO QUE TE GUSTE</h3>
      <img class="event-photo" src="./foto1.jpeg" alt="ESPERO QUE TE GUSTE" />
      <p>Fliez San Valent√≠n Ali‚ù§Ô∏è</p>
    </div>

    <div class="event">
      <h3>‚ú® El d√≠a que me llamaste la atenci√≥n</h3>
      <img class="event-photo" src="./foto5.jpg" alt="El d√≠a que me llamaste la atenci√≥n" />
      <hr class="divider" />
      <img class="event-photo" src="./foto6.jpg" alt="El d√≠a que me llamaste la atenci√≥n" />
      <p>(Escribe aqu√≠ qu√© pas√≥ ese d√≠a. Qu√© viste en ella, qu√© pensaste, qu√© detalle te marc√≥.)</p>
    </div>

    <div class="event">
      <h3>üí¨ Cuando empezamos a hablar semanalmente</h3>
      <p>(Cuenta c√≥mo se volvi√≥ ‚Äúnormal‚Äù hablar, c√≥mo te sent√≠as esperando sus mensajes, qu√© os uni√≥.)</p>
    </div>

    <div class="event">
      <h3>‚ù§Ô∏è Cuando me di cuenta que sent√≠a por primera vez AMOR</h3>
      <p>(Aqu√≠ va el momento exacto: d√≥nde estabas, qu√© pensaste, por qu√© supiste que era amor de verdad.)</p>
    </div>

    <!-- La primera vez que quedamos -->
    <div class="event letter-event">
      <h3>üìç La primera vez que quedamos</h3>

      <div class="date-wrap">
        <div class="date-text">
          <p>Esa semana la tengo grabada. Te lo dije la semana anterior: que quer√≠a quedar contigo para intentar hacer algo y que te enamorases de m√≠ (claro, yo no sab√≠a que ya te gustaba).</p>

          <p>Yo me acuerdo de estar todos los d√≠as muerto de dolor de barriga, de los nervios y de mariposas. Pero fue justo cuando fuimos a Vizzio cuando se me quitaron las dudas que ten√≠a sobre si todo iba a salir bien o no. Porque esa noche yo te estuve mirando todo el tiempo: no te apart√© la mirada ni un solo momento. Para m√≠ era la primera vez que sent√≠a algo tan fuerte sin ser absolutamente nada m√°s que amigos.</p>

          <p>Qu√© risa cuando me sal√≠ a la terraza con Kostadin y empec√© a hablar de ti, sobre c√≥mo no sab√≠a qu√© hacer porque estaba sintiendo tanto solo por estar CERCA DE TI, que el t√≠o se levant√≥ y me dijo: ‚Äúno seas un cag√≥n‚Äù. Y creo que, supongo, que gracias a eso fue que fui directo hacia ti, te cog√≠ de la mano y por segunda vez nos besamos. No te imaginas lo que estaba sintiendo en ese momento: no me estaba preocupando por nada, solo en sentir tu beso al m√°ximo para poder recordarlo.</p>

          <p>Fue ah√≠ cuando ya sab√≠a que daba igual que me odiases, acabase cay√©ndote mal o simplemente nos separase la vida: iba a hacer absolutamente todo por perseguirte y conseguir estar a tu lado.</p>

          <p>Dos d√≠as despu√©s lleg√≥ por fin nuestra PRIMERA CITA. Yo estaba muerto por dentro; no sab√≠a si tomarme 15 valerianas o simplemente morir. Me acuerdo de ir por la ma√±ana al mercado del Tiro de L√≠nea para comprar los tulipanes rojos que hab√≠a reservado de antemano, y nada m√°s llegar a casa mi madre gritar diciendo: ‚ÄúSe nos hace mayor‚Äù.</p>

          <p>Pero no solo me dijo eso, claro. Me dijo que esos tulipanes no eran suficientes y que el ramo ten√≠a que ser m√°s grande. As√≠ que, para que veas, fue idea de MI MADRE comprar tambi√©n las rosas y unirlas en un ramo.</p>

          <p>Fuimos al Costco mi padre y yo en coche, y me estuvo dando una charla de c√≥mo era todo esto tan repentino: qui√©n eras, si eras guapa, si estaba enamorado de ti. Le cont√© absolutamente todo, muerto de verg√ºenza, claro, que hasta se estaba riendo de la cara de tomate que ten√≠a. Pero bueno, al final me aconsej√≥ y me dijo una cosa que creo que fue muy importante para m√≠: ‚Äúpase lo que pase con esta chica, disfr√∫talo, e intenta no abrumarla mucho, que te conozco‚Äù JAJAJAJA.</p>

          <p>Puede que tuviese bastante raz√≥n en lo de abrumar‚Ä¶ pero tambi√©n ten√≠a mucha, mucha m√°s raz√≥n en lo de disfrutar, porque creo que no he disfrutado m√°s en mi vida.</p>

          <p>Bueno, que me voy por las ramas. Al final acabamos comprando 20 rosas de color rosa porque sab√≠a que las rojas t√∫ las odiabas. Entonces tuvimos que buscar unas rosas y tuvimos suerte porque justo quedaba solo un ramo de color rosa. Ya en casa, despu√©s de comprar todo, ah√≠ fue la primera vez que mi madre me ense√±√≥ a hacer un arreglo de flores. Y la verdad es que no entend√≠ nada, pero me serv√≠a para d√°rtelo.</p>

          <p>Y por fin lleg√≥ el momento que llevaba esperando tantos meses: quedar contigo sinti√©ndome completamente enamorado de ti, y creyendo que t√∫ tambi√©n sent√≠as lo mismo.</p>

          <p>Fui al metro a recogerte. Recuerdo la chaqueta que ten√≠as puesta y el paro card√≠aco que me dio al verte, porque estabas GUAP√çSIMA. En el camino a mi casa no sab√≠a ni c√≥mo mirarte a la cara; no paraba de mirar al frente porque es que no era capaz. Pero al menos fui capaz de darte un beso en la mejilla.</p>

          <p>Estaba tan nervioso y cagado por dentro que pensaba que lo mejor para romper el hielo era sacar a mi perro juntos‚Ä¶ pero bueno, por lo menos eso dur√≥ poquito.</p>

          <p>Y BUAAAAAA, POR FIN, cuando volvimos a mi casa ten√≠a el ramo escondido en la cocina esperando para d√°rtelo con ganas. Y cuando te lo di‚Ä¶ TU CARA. LA CARA DE SORPRESA. DE ASOMBRO. ME ENCANT√ì.</p>

          <p>Ah√≠ ya perd√≠ por completo los nervios y me dej√© simplemente disfrutar el momento sin miedo ni nervios. Nos sentamos en el sof√°, te expliqu√© m√°s o menos r√°pidamente todo el plan que ten√≠a y quer√≠a hacer contigo con las flores, y simplemente me acerqu√© a ti‚Ä¶ y te bes√©. Creo que estaba sinti√©ndome tan pero tan‚Ä¶ NO S√â, ¬øBIEN? Pero fue lo mejor de mi vida.</p>

          <p>Despu√©s ya solo estaba en el mood de felicidad absoluta de siempre. Iba s√∫per contento, habl√°ndote del restaurante, y acabamos comiendo bastante bien (t√∫ poca comida; en el momento me extra√±√© y pensaba que no te gustaba, pero he ido aprendiendo que simplemente no comes tanto).</p>

          <p>Terminamos de comer, subimos a mi casa, te di el ramo de flores y te acompa√±√© al metro de vuelta. Me daba tanta risa y tanta relajaci√≥n que todo hubiese salido como hab√≠a planeado‚Ä¶ lo estaba disfrutando todo al m√°ximo. Y ah√≠ lo √∫ltimo que tambi√©n me encant√≥ fue bajar las escaleras del metro contigo y despedirme bes√°ndote entera e intentando recordar ese beso.</p>

          <p>Volv√≠ a mi casa literalmente dando saltos como en las pel√≠culas JAJAJAJAJAJAJA.</p>

          <p>Me met√≠ en la cama intentando procesar todo lo que hab√≠a pasado y flipando con lo guapa que estabas. Llegaron mis padres y como locos me empezaron a preguntar que c√≥mo hab√≠a ido todo, y estaba tan, tan, tan feliz / nervioso / procesando todo, que me satur√© y no pude decir nada. Lo tuve que decir todo al d√≠a siguiente.</p>

          <p>Definitivamente, un d√≠a que nunca se me va a ir de mi cabeza jam√°s, pero jam√°s, jam√°s. Me encant√≥ todo, y gracias a ti todo sali√≥ bien.</p>
        </div>

        <div class="date-photos">
          <figure class="side-figure">
            <img class="side-photo" src="./foto9.jpeg" alt="La primera vez que quedamos" />
            <figcaption class="side-caption">El primer ramo de flores que doy en mi vida, tuyo</figcaption>
          </figure>

          <figure class="side-figure">
            <img class="side-photo" src="./foto8.jpeg" alt="La primera vez que quedamos" />
            <figcaption class="side-caption">Este mensaje es lo que le escrib√≠ a F√°tima al dia siguiente</figcaption>
          </figure>
        </div>
      </div>
    </div>

    <div class="event">
      <h3>üíû Novios üíû</h3>
      <p>(C√≥mo fue, c√≥mo lo pedisteis o c√≥mo se dio, qu√© sentiste, qu√© cambi√≥ a partir de ah√≠.)</p>
    </div>

    <div class="event letter-event">
      <h3>üåô Nuestra relaci√≥n</h3>

      <div class="relation-wrap">
        <div class="relation-text">
          <p>Ali,</p>
          <p>(Aqu√≠ va tu texto completo de ‚ÄúNuestra relaci√≥n‚Äù.)</p>
        </div>

        <img class="relation-photo" src="./foto7.jpeg" alt="Foto nuestra" />
      </div>
    </div>

  </section>

  <!-- Controles -->
  <div class="step-controls">
    <button id="prevBtn" type="button">‚óÄ Anterior</button>
    <span id="stepCounter" class="step-counter"></span>
    <button id="nextBtn" type="button">Siguiente ‚ñ∂</button>
  </div>

  <script>
  (() => {
    const events = Array.from(document.querySelectorAll('.timeline .event'));
    if (!events.length) return;

    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const counter = document.getElementById('stepCounter');

    const start = document.getElementById('start');
    const startBtn = document.getElementById('startBtn');

    let idx = 0;
    let started = false;
    let animating = false;

    // Al cargar: no ense√±es nada hasta EMPEZAR
    events.forEach(el => el.hidden = true);

    function updateUI(){
      prevBtn.disabled = (!started || idx === 0 || animating);
      nextBtn.disabled = (!started || idx === events.length - 1 || animating);
      counter.textContent = started ? `${idx + 1} / ${events.length}` : '';
    }

    function showInstant(i){
      idx = Math.max(0, Math.min(i, events.length - 1));
      events.forEach((el, k) => {
        el.hidden = (k !== idx);
        el.classList.toggle('is-active', k === idx);
        el.classList.remove('slide-in-right','slide-in-left','slide-out-left','slide-out-right');
      });
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function go(nextIdx, direction){
      if (!started || animating) return;
      nextIdx = Math.max(0, Math.min(nextIdx, events.length - 1));
      if (nextIdx === idx) return;

      animating = true;
      updateUI();

      const current = events[idx];
      const next = events[nextIdx];

      current.classList.remove('slide-in-right','slide-in-left','slide-out-left','slide-out-right');
      next.classList.remove('slide-in-right','slide-in-left','slide-out-left','slide-out-right');

      current.classList.add(direction === 1 ? 'slide-out-left' : 'slide-out-right');

      current.addEventListener('animationend', () => {
        current.hidden = true;
        current.classList.remove('is-active', 'slide-out-left', 'slide-out-right');

        next.hidden = false;
        next.classList.add('is-active');
        next.classList.add(direction === 1 ? 'slide-in-right' : 'slide-in-left');

        next.addEventListener('animationend', () => {
          next.classList.remove('slide-in-right','slide-in-left');
          idx = nextIdx;
          animating = false;
          updateUI();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, { once: true });

      }, { once: true });
    }

    prevBtn.addEventListener('click', () => go(idx - 1, -1));
    nextBtn.addEventListener('click', () => go(idx + 1,  1));

    document.addEventListener('keydown', (e) => {
      if (!started) return;
      if (e.key === 'ArrowRight') go(idx + 1, 1);
      if (e.key === 'ArrowLeft')  go(idx - 1, -1);
    });

    startBtn.addEventListener('click', () => {
      if (started) return;
      started = true;
      document.body.classList.add('started');

      start.classList.add('hide');
      start.addEventListener('transitionend', () => start.remove(), { once: true });

      showInstant(0);
      events[idx].classList.add('slide-in-right');
      updateUI();
    });

    updateUI();
  })();
  </script>

</body>
</html>
